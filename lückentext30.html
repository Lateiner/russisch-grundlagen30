<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaktives Russisch-Arbeitsblatt: Das Pronomen себя</title>
    <!-- Polyfill für Drag and Drop auf Touch-Geräten -->
    <script src="https://cdn.jsdelivr.net/npm/drag-drop-touch@1.3.1/DragDropTouch.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --success-bg: #d4edda;
            --success-border: #28a745;
            --error-bg: #f8d7da;
            --error-border: #dc3545;
            --bg-color: #f0f2f5;
            --card-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .main-container {
            width: 100%;
            max-width: 900px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
        }

        h1 { text-align: center; border-bottom: 3px solid var(--accent-color); padding-bottom: 10px; }
        h2 { color: var(--accent-color); margin-top: 30px; }

        .intro-section {
            background: #eef7ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 40px;
            border-left: 5px solid var(--accent-color);
        }

        .task-box {
            background: #ffffff;
            border: 1px solid #e0e0e0;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 12px;
            position: relative;
        }

        .task-header {
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 15px;
            display: block;
        }

        /* Form-Elemente */
        select {
            padding: 8px;
            border: 2px solid #ccc;
            border-radius: 6px;
            font-size: 1rem;
            margin: 0 5px;
            background-color: white;
        }

        .radio-item {
            display: block;
            padding: 12px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
        }

        /* Drag and Drop */
        .drag-pool {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 15px;
            background: #f1f3f5;
            border: 2px dashed #ccc;
            border-radius: 8px;
            margin: 15px 0;
            min-height: 50px;
        }

        .draggable {
            background: white;
            border: 2px solid var(--accent-color);
            padding: 8px 16px;
            border-radius: 6px;
            cursor: move;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .dropzone {
            display: inline-block;
            min-width: 120px;
            height: 38px;
            border-bottom: 2px solid #999;
            vertical-align: middle;
            margin: 0 5px;
            text-align: center;
        }

        .dropzone.hover { background-color: #e3f2fd; }

        /* Feedback-Farben */
        .is-correct { background-color: var(--success-bg) !important; border-color: var(--success-border) !important; }
        .is-incorrect { background-color: var(--error-bg) !important; border-color: var(--error-border) !important; }

        /* Buttons */
        .button-group {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: opacity 0.2s;
        }

        .btn-check { background-color: #27ae60; color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }
        .btn-show { background-color: #3498db; color: white; }
        button:hover { opacity: 0.9; }

        @media (max-width: 600px) {
            .main-container { padding: 15px; }
            .button-group { flex-direction: column; }
            button { width: 100%; }
        }
    </style>
</head>
<body>

<div class="main-container">
    <h1>Russische Grammatik: Das Pronomen себя</h1>

    <div class="intro-section">
        <h2>Kurze Erklärung</h2>
        <p>Das Wort <strong>себя</strong> (sich/selbst) bezieht sich immer auf das Subjekt des Satzes zurück. Eine Besonderheit: Es gibt <strong>keinen Nominativ</strong>, das Wort kann also niemals das Subjekt sein.</p>
        <p><strong>Die Formen im Überblick:</strong></p>
        <ul>
            <li><strong>себя</strong> (Genitiv / Akkusativ)</li>
            <li><strong>себе</strong> (Dativ / Präpositiv)</li>
            <li><strong>собой</strong> (Instrumental)</li>
        </ul>
    </div>

    <!-- ÜBUNGEN -->

    <!-- Aufgabe 1: Akkusativ -->
    <div class="task-box" id="task1">
        <span class="task-header">1. Akkusativ (Wen/Was?): „Das Mädchen sieht sich im Spiegel.“</span>
        <p>Девочка видит в зеркале 
            <select data-correct="себя">
                <option value="">-- wählen --</option>
                <option value="себя">себя</option>
                <option value="себе">себе</option>
                <option value="собой">собой</option>
            </select>.</p>
        <div class="button-group">
            <button class="btn-check" onclick="checkSelect('task1')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task1')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionSelect('task1')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 2: Dativ -->
    <div class="task-box" id="task2">
        <span class="task-header">2. Dativ (Wem?): „Die Oma kaufte sich Blumen.“</span>
        <p>Бабушка купила 
            <select data-correct="себе">
                <option value="">-- wählen --</option>
                <option value="себя">себя</option>
                <option value="себе">себе</option>
            </select> цветы.</p>
        <div class="button-group">
            <button class="btn-check" onclick="checkSelect('task2')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task2')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionSelect('task2')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 3: Instrumental -->
    <div class="task-box" id="task3">
        <span class="task-header">3. Instrumental: „Hast du ein Telefon bei dir (mit sich)?“</span>
        <p>У тебя есть с 
            <select data-correct="собой">
                <option value="">-- wählen --</option>
                <option value="себя">себя</option>
                <option value="собой">собой</option>
            </select> телефон?</p>
        <div class="button-group">
            <button class="btn-check" onclick="checkSelect('task3')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task3')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionSelect('task3')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 4: Präpositiv -->
    <div class="task-box" id="task4">
        <span class="task-header">4. Präpositiv: „Sie spricht gerne über sich.“</span>
        <p>Она любит говорить о 
            <select data-correct="себе">
                <option value="">-- wählen --</option>
                <option value="себя">себя</option>
                <option value="себе">себе</option>
            </select>.</p>
        <div class="button-group">
            <button class="btn-check" onclick="checkSelect('task4')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task4')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionSelect('task4')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 5: Idiom Matching (Drag & Drop) -->
    <div class="task-box" id="task5">
        <span class="task-header">5. Redewendungen: Ordne die deutsche Bedeutung zu.</span>
        <div class="drag-pool">
            <div class="draggable" draggable="true" id="d1" data-target="drop1">Wahnsinn! / Oha!</div>
            <div class="draggable" draggable="true" id="d2" data-target="drop2">Sich benehmen</div>
            <div class="draggable" draggable="true" id="d3" data-target="drop3">Leise lesen</div>
        </div>
        <p>Ничего себе! — <span class="dropzone" id="drop1"></span></p>
        <p>Вести себя — <span class="dropzone" id="drop2"></span></p>
        <p>Читать про себя — <span class="dropzone" id="drop3"></span></p>
        <div class="button-group">
            <button class="btn-check" onclick="checkDrag('task5')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task5')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionDrag('task5')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 6: Türschilder (Radio) -->
    <div class="task-box" id="task6">
        <span class="task-header">6. Alltag: Was tust du, wenn auf einer Tür „ОТ СЕБЯ“ steht?</span>
        <label class="radio-item"><input type="radio" name="q6"> Ich ziehe die Tür zu mir.</label>
        <label class="radio-item"><input type="radio" name="q6" data-correct="true"> Ich drücke die Tür von mir weg.</label>
        <div class="button-group">
            <button class="btn-check" onclick="checkRadio('task6')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task6')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionRadio('task6')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 7: Befinden (Select) -->
    <div class="task-box" id="task7">
        <span class="task-header">7. Befinden: „Ich fühle mich gut.“</span>
        <p>Я чувствую <select data-correct="себя">
            <option value="">...</option>
            <option value="себя">себя</option>
            <option value="себе">себе</option>
        </select> хорошо.</p>
        <div class="button-group">
            <button class="btn-check" onclick="checkSelect('task7')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task7')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionSelect('task7')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 8: Satzbau (Drag & Drop) -->
    <div class="task-box" id="task8">
        <span class="task-header">8. Wortfolge: Bringe den Satz in Ordnung: „Kostja hat uns zu sich eingeladen.“</span>
        <div class="drag-pool">
            <div class="draggable" draggable="true" id="d8-1" data-target="dz1">Костя</div>
            <div class="draggable" draggable="true" id="d8-2" data-target="dz2">пригласил</div>
            <div class="draggable" draggable="true" id="d8-3" data-target="dz3">нас</div>
            <div class="draggable" draggable="true" id="d8-4" data-target="dz4">к себе</div>
        </div>
        <div style="margin-top:20px;">
            <span class="dropzone" id="dz1"></span> <span class="dropzone" id="dz2"></span> <span class="dropzone" id="dz3"></span> <span class="dropzone" id="dz4"></span>.
        </div>
        <div class="button-group">
            <button class="btn-check" onclick="checkDrag('task8')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task8')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionDrag('task8')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 9: Reflexivität (Radio) -->
    <div class="task-box" id="task9">
        <span class="task-header">9. Unterscheidung: „Mascha sieht sich (selbst) im Spiegel.“</span>
        <label class="radio-item"><input type="radio" name="q9" data-correct="true"> Маша видит себя в зеркале.</label>
        <label class="radio-item"><input type="radio" name="q9"> Маша видит её в зеркале.</label>
        <div class="button-group">
            <button class="btn-check" onclick="checkRadio('task9')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task9')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionRadio('task9')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 10: Theorie (Radio) -->
    <div class="task-box" id="task10">
        <span class="task-header">10. Grammatik: Kann „себя“ das Subjekt eines Satzes sein?</span>
        <label class="radio-item"><input type="radio" name="q10"> Ja, im Nominativ.</label>
        <label class="radio-item"><input type="radio" name="q10" data-correct="true"> Nein, es hat keinen Nominativ.</label>
        <div class="button-group">
            <button class="btn-check" onclick="checkRadio('task10')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task10')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionRadio('task10')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 11: Versprechen (Select) -->
    <div class="task-box" id="task11">
        <span class="task-header">11. Vorsatz: „Ich gebe mir (selbst) das Wort (verspreche mir)...“</span>
        <p>Я даю <select data-correct="себе">
            <option value="">...</option>
            <option value="себе">себе</option>
            <option value="собой">собой</option>
        </select> слово.</p>
        <div class="button-group">
            <button class="btn-check" onclick="checkSelect('task11')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task11')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionSelect('task11')">Lösung anzeigen</button>
        </div>
    </div>

    <!-- Aufgabe 12: Pflege (Select) -->
    <div class="task-box" id="task12">
        <span class="task-header">12. Pflege: „Man muss auf sich (selbst) achten/pflegen.“</span>
        <p>Нужно следить за <select data-correct="собой">
            <option value="">...</option>
            <option value="себе">себе</option>
            <option value="собой">собой</option>
        </select>.</p>
        <div class="button-group">
            <button class="btn-check" onclick="checkSelect('task12')">Überprüfen</button>
            <button class="btn-reset" onclick="resetTask('task12')">Zurücksetzen</button>
            <button class="btn-show" onclick="showSolutionSelect('task12')">Lösung anzeigen</button>
        </div>
    </div>

</div>

<script>
    // Drag and Drop Logik
    let draggedItem = null;

    document.querySelectorAll('.draggable').forEach(item => {
        item.addEventListener('dragstart', function() {
            draggedItem = this;
            setTimeout(() => this.style.display = 'none', 0);
        });
        item.addEventListener('dragend', function() {
            setTimeout(() => this.style.display = 'block', 0);
            draggedItem = null;
        });
    });

    document.querySelectorAll('.dropzone, .drag-pool').forEach(zone => {
        zone.addEventListener('dragover', e => e.preventDefault());
        zone.addEventListener('dragenter', function() { this.classList.add('hover'); });
        zone.addEventListener('dragleave', function() { this.classList.remove('hover'); });
        zone.addEventListener('drop', function() {
            this.classList.remove('hover');
            if (draggedItem) {
                if(this.classList.contains('dropzone') && this.children.length > 0) return;
                this.appendChild(draggedItem);
            }
        });
    });

    // Validierungs-Funktionen

    function checkSelect(id) {
        const select = document.getElementById(id).querySelector('select');
        select.classList.remove('is-correct', 'is-incorrect');
        if(select.value === select.dataset.correct) {
            select.classList.add('is-correct');
        } else {
            select.classList.add('is-incorrect');
        }
    }

    function showSolutionSelect(id) {
        const select = document.getElementById(id).querySelector('select');
        select.value = select.dataset.correct;
        select.classList.remove('is-incorrect');
        select.classList.add('is-correct');
    }

    function checkRadio(id) {
        const inputs = document.getElementById(id).querySelectorAll('input');
        const items = document.getElementById(id).querySelectorAll('.radio-item');
        items.forEach(item => item.classList.remove('is-correct', 'is-incorrect'));
        
        inputs.forEach((input, index) => {
            if(input.checked) {
                if(input.dataset.correct) {
                    items[index].classList.add('is-correct');
                } else {
                    items[index].classList.add('is-incorrect');
                }
            }
        });
    }

    function showSolutionRadio(id) {
        const inputs = document.getElementById(id).querySelectorAll('input');
        const items = document.getElementById(id).querySelectorAll('.radio-item');
        inputs.forEach((input, index) => {
            input.checked = input.dataset.correct === "true";
            items[index].classList.remove('is-incorrect');
            if(input.dataset.correct) items[index].classList.add('is-correct');
        });
    }

    function checkDrag(id) {
        const zones = document.getElementById(id).querySelectorAll('.dropzone');
        zones.forEach(zone => {
            zone.classList.remove('is-correct', 'is-incorrect');
            if(zone.children.length > 0) {
                if(zone.children[0].dataset.target === zone.id) {
                    zone.classList.add('is-correct');
                } else {
                    zone.classList.add('is-incorrect');
                }
            } else {
                zone.classList.add('is-incorrect');
            }
        });
    }

    function showSolutionDrag(id) {
        const task = document.getElementById(id);
        const draggables = task.querySelectorAll('.draggable');
        draggables.forEach(item => {
            const targetZone = document.getElementById(item.dataset.target);
            targetZone.appendChild(item);
            targetZone.classList.remove('is-incorrect');
            targetZone.classList.add('is-correct');
        });
    }

    function resetTask(id) {
        const task = document.getElementById(id);
        // Reset Selects
        task.querySelectorAll('select').forEach(s => {
            s.value = "";
            s.classList.remove('is-correct', 'is-incorrect');
        });
        // Reset Radios
        task.querySelectorAll('input').forEach(i => i.checked = false);
        task.querySelectorAll('.radio-item').forEach(r => r.classList.remove('is-correct', 'is-incorrect'));
        // Reset Drag & Drop
        const pool = task.querySelector('.drag-pool');
        task.querySelectorAll('.dropzone').forEach(z => {
            z.classList.remove('is-correct', 'is-incorrect');
            while(z.firstChild) {
                pool.appendChild(z.firstChild);
            }
        });
    }
</script>

</body>
</html>